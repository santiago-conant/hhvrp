{% block title %}
	Solution
{% endblock %}

{% block css %}
	<style>
		#map {
			height: 100%;
		}
      /* Optional: Makes the sample page fill the window. */
      html, body {
        height: 100%;
        margin: 0;
        padding: 0;
      }
	</style>
{% endblock %}


{% block content %}

		<div id="map"></div>

{% endblock %}

{% block js %}
    <script>
      function initMap() {
        var map = new google.maps.Map(document.getElementById('map'), {
			zoom: 5,
			center: {lat:25.679121, lng: -100.317516},
			scrollwheel: false
        });

		var flightPlanCoordinates;
		var flightPath;
		{% for route in solution %}
			flightPlanCoordinates = [
				{% for cust in route.customers %}
					{% if not forloop.first %},{% endif %}
					{ 
						lat: {{ cust.latitude }},
						lng: {{ cust.longitude }}
					}
				{% endfor %}
			];
			flightPath = new google.maps.Polyline({
				path: flightPlanCoordinates,
				geodesic: true,
				strokeColor: '{{ route.color }}',
				strokeOpacity: 1.0,
				strokeWeight: 2,
				map : map
			});
		
		{% endfor %}
    }
	</script>
 
	<script async defer
		src="https://maps.googleapis.com/maps/api/js?key=AIzaSyD0ac8PVDnT9pv5sO3z-TmdQRCuEjq5d28&callback=initMap">
	</script>
{% endblock %}





